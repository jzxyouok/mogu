!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pages/dapei/index",[],t):"object"==typeof exports?exports["pages/dapei/index"]=t():e["pages/dapei/index"]=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){l&&l.destroy(),l=new r({$el:$(".pool-list"),template:c,threshold:1e3,segmentsKept:40,network:{url:d,data:e},filterData:function(e){return e.list}})}n(1),n(5);var o=n(6);o.TTID="NMMain@mogujie_pc_1.0",window.MOCK_USER="zhilan";var r=n(7),a=n(10),s=n(11),c=n(12),d="mwp.timelinemwp.editorTagFeedListActionlet",u={mobook:""},l=null,f=$("#body_wrap"),h=window.devicePixelRatio?Math.ceil(window.devicePixelRatio):1;h=h>2?2:h,e.exports={$el:f,init:function(){var e=this,t={banner:{image:"https://s10.mogucdn.com/p1/161122/idid_ifrtcnzrheytemrwmmzdambqhayde_1000x360.png",bgColor:"#ffb5ae",link:"http://www.mogujie.com"},tabs:[],size:1===h?"_1200x999.jpg":"_9999x9999.v1cP6.81.jpg"};this.getBannerData().then(function(n){return t.banner=n,e.getTags()}).then(function(n){t.tabs=n;var o=a.getQueryString("tagId"),r=0,c=1,d="";if(o)for(var l=0;l<n.length;l++)n[l].tagId===o&&(r=parseInt(l/10),c=l);n&&n.length>0&&(o=n[c].tagId,d=n[c].tagName),e.$el.html(s(t)),o&&(window.logger&&window.logger.log("016000094",{tabname:d}),$(".nav-list").bxSlider({hideControlOnEnd:!0,slideWidth:111,minSlides:2,maxSlides:10,slideMargin:10,auto:!1,pager:!1,infiniteLoop:!1,startSlide:r,rightArrow:"https://s10.mogucdn.com/p1/161201/idid_ifrdgnbrgbqwmzrymmzdambqmeyde_40x72.png",leftArrow:"https://s10.mogucdn.com/p1/161201/idid_ifqwkyzumq2wmzrymmzdambqgyyde_40x72.png"}),$(".nav-item").eq(c).children(".J_tab").removeClass("item-mask").addClass("tab-active").text(d),u={tagId:n[c].tagId,contentId:n[c].lifestyleId,editorType:1,mbook:"",size:20},i(u))})},getBannerData:function(){return new Promise(function(e,t){$.ajax({type:"GET",url:"//mce.mogujie.com/jsonp/get/3?pid=30622",dataType:"jsonp"}).then(function(n){if("SUCCESS"===n.returnCode)e(n.data.list[0]);else{var i={image:"https://s10.mogucdn.com/p1/161122/idid_ifrtcnzrheytemrwmmzdambqhayde_1000x360.png",bgColor:"#ffb5ae",link:"http://www.mogujie.com"};t(i)}})})},getTags:function(){return new Promise(function(e,t){$.ajax({type:"GET",url:"//mce.mogujie.com/jsonp/get/3?pid=32254",dataType:"jsonp"}).then(function(n){"SUCCESS"===n.returnCode?e(n.data.list):t([])})})}},f.on("click",".J_tab",function(e){var t=e.currentTarget,n=$(t).attr("data-tag-name"),o=$(t).attr("data-tag-id"),r=$(t).attr("data-content-id");$(".tab-active").removeClass("tab-active").addClass("item-mask").text(""),$(t).removeClass("item-mask").addClass("tab-active").text(n),$(".pool-list").empty(),window.logger&&window.logger.log("016000094",{tabname:n}),u={tagId:o,contentId:r,editorType:1,mbook:"",size:20},i(u)})},function(e,t){},,,,function(e,t,n){var i;!(i=function(){window.MoGu=window.MoGu||{};var e=navigator.userAgent;MoGu.isUseWebp=!1;var t={imgKeyArr:["80","100","160","180","200","240","280","300","320","360","400","440","480","520","540","560","600","640"],imgKeyMap:{80:{"1:1":"80x80","7:9":"80x103","3:4":"80x107","2:3":"80x120",999:"80x999"},100:{"1:1":"100x100","7:9":"100x129","3:4":"100x134","2:3":"100x150",999:"100x999"},160:{"1:1":"160x160","7:9":"160x206","3:4":"160x214","2:3":"160x240",999:"160x999"},180:{"1:1":"180x180","7:9":"180x232","3:4":"180x240","2:3":"180x270",999:"180x999"},200:{"1:1":"200x200","7:9":"200x258","3:4":"200x268","2:3":"200x300",999:"200x999"},240:{"1:1":"240x240","7:9":"240x308","3:4":"240x320","2:3":"240x360",999:"240x999"},280:{"1:1":"280x280","7:9":"280x360","3:4":"280x374","2:3":"280x420",999:"280x999"},300:{"1:1":"300x300","7:9":"300x386","3:4":"300x400","2:3":"300x450",999:"300x999"},320:{"1:1":"320x320","7:9":"320x412","3:4":"320x428","2:3":"320x480",999:"320x999"},360:{"1:1":"360x360","7:9":"360x463","3:4":"360x480","2:3":"360x540",999:"360x999"},400:{"1:1":"400x400","7:9":"400x515","3:4":"400x534","2:3":"400x600",999:"400x999"},440:{"1:1":"440x440","7:9":"440x566","3:4":"440x587","2:3":"440x660",999:"440x999"},480:{"1:1":"480x480","7:9":"480x618","3:4":"480x640","2:3":"480x720",999:"480x999"},520:{"1:1":"520x520","7:9":"520x670","3:4":"520x694","2:3":"520x780",999:"520x999"},540:{"1:1":"540x540","7:9":"540x695","3:4":"540x720","2:3":"540x810",999:"540x999"},560:{"1:1":"560x560","7:9":"560x720","3:4":"560x747","2:3":"560x840",999:"560x999"},600:{"1:1":"600x600","7:9":"600x772","3:4":"600x800","2:3":"600x900",999:"600x999"},640:{"1:1":"640x640","7:9":"640x824","3:4":"640x854","2:3":"640x960",999:"640x999"}},imgQuality:70,dprDefMaxWidth:640,dprDefRatio:"999",defCode:"999x999.v1c0",clientHeight:null,clientWidth:null,dpr:null,dprClentWidth:null};t.ua=e,t.android=e.match(/(Android);?[\s\/]+([\d.]+)?/),t.ios=e.match(/(iPad).*OS\s([\d_]+)/)||e.match(/(iPod)(.*OS\s([\d_]+))?/)||e.match(/(iPhone\sOS)\s([\d_]+)/),t.wp=e.match(/Windows Phone ([\d.]+)/),t.is_mobile=t.android||t.ios||t.wp,t.is_ie_old=e.indexOf("MSIE")>0,t.init=function(){var e=this;e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.addEventListener&&window.addEventListener("resize",function(){e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},!1),e.dpr=window.devicePixelRatio>=1?window.devicePixelRatio:1,e.dprClentWidth=e.clientWidth*e.dpr,e.checkSupportWebp(),e.is_mobile&&e.getAppInfo()},t.setWebpFlag=function(e){MoGu.isUseWebp=!!e},t.checkSupportWebp=function(){var e=this,t=new Image;t.onload=function(){e.setWebpFlag(!0)},t.onerror=function(){e.ios&&"undefined"!=typeof localStorage?e.setWebpFlag("true"===localStorage.getItem("isWebpEnable")):e.setWebpFlag(!1)},t.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="},t.getDefSuffix=function(e,t){var n=this,i="";if(n.android||n.ios||n.wp){var o=n.dprClentWidth;375>=o?i="375x9999.v1c7E":o>375&&750>=o?i="750x9999.v1c7E":o>750&&(i="1125x9999.v1c7E")}else i=n.defCode;return n.getCodeSuffix(e,i,t)},t.getWidthSuffix=function(e,t,n,i){var o=this;"undefined"==typeof i&&(i=!0);var r=o.defCode,a=i?o.dpr:1,s=parseInt(t)*a;return s&&s>0&&1950>s&&(s+=50,r=100*Math.ceil(s/100)+"x9999.v1c7E"),o.getCodeSuffix(e,r,n)},t.getGoodsRatioSuffix=function(e,t,n,i,o){var r=this;"undefined"==typeof o&&(o=!0);var a=r.defCode,s="",c=".v1cAC",d=o?r.dpr:1;switch(n){case"1:1":case"7:9":case"3:4":case"2:3":s=n;break;default:s=r.dprDefRatio,c=".v1c96"}var u=parseInt(t)*d;(!u||0>u||u>r.dprDefMaxWidth)&&(u=r.dprDefMaxWidth);for(var l=0;l<r.imgKeyArr.length;l++){var f=r.imgKeyArr[l];if(f>=u||f==r.dprDefMaxWidth){a=r.imgKeyMap[f][s]+c;break}}return r.getCodeSuffix(e,a,i)},t.getHalfSuffix=function(e,t){var n=this,i="";return n.dpr<2?(i="50000x50000.v1c7E",e=n.getCodeSuffix(e,i,t)):e=n.getDefSuffix(e,t),e},t.getCodeSuffix=function(e,t,n){var i=this,o=e;if(!e||!t||"no"==t||e.indexOf(".webp")>0||e.indexOf(".gif")>0)return e;if(-1===e.indexOf("mogucdn"))return e;if(e.indexOf(".jpg")<0&&e.indexOf(".png")<0)return e;if(e.indexOf(".jpg")>0&&e.indexOf(".png")>0)return e;var r="",a=e.split(".");if("jpg"==a[a.length-1])r="jpg";else{if("png"!=a[a.length-1])return e;r="png"}var t="_"+t,s="."+i.imgQuality+".";if(e.indexOf(".png_")<0&&e.indexOf(".jpg_")<0&&e.indexOf("."+r)==e.length-4&&(e=e+t+s+r),MoGu.isUseWebp&&n!==!1){if(e.indexOf("."+r+"_")>0){var c=e.split(".");c[c.length-1]==r&&(c[c.length-1]="webp",e=c.join("."))}}else if("png"==r)return o;return e},t.getAppInfo=function(){var e=this;"undefined"!=typeof hdp?(hdp["do"]("mgj.device.getInfo").then(function(t){t&&t.networkType&&4!=t.networkType&&5!=t.networkType&&(e.imgQuality=50)})["catch"](function(e){}),e.ios&&"undefined"!=typeof localStorage&&hdp["do"]("hybrid.settings.getWebpEnabled").then(function(e){localStorage.setItem("isWebpEnable",e)})["catch"](function(){localStorage.setItem("isWebpEnable",!1)})):"undefined"!=typeof document&&document.addEventListener&&document.addEventListener("deviceready",function(){window.mgj&&mgj.device&&mgj.device.getInfo&&mgj.device.getInfo(function(t){t&&t.networkType&&4!=t.networkType&&5!=t.networkType&&(e.imgQuality=50)}),e.ios&&"undefined"!=typeof localStorage&&window.hybrid&&hybrid.settings&&hybrid.settings.getWebpEnabled&&hybrid.settings.getWebpEnabled(function(e){localStorage.setItem("isWebpEnable",e)},function(){localStorage.setItem("isWebpEnable",!1)})},function(){})},MoGu.ImgUrlTool||(t.init(),MoGu.ImgUrlTool=t);var n=Date.now||function(){return(new Date).getTime()},i=function(e){this.opts=$.extend({},this.defaults,e),this.init(),this.scrollIndTime=t.is_ie_old?400:200,this.fistCheck=!1,this.imgErrorClock={}};i.prototype={init:function(){var e=this,t=n();$(window).scroll(function(i){var o=n();o-t>e.scrollIndTime&&(t=o,e.checkImages())}),setTimeout(function(){e.fistCheck=!0,e.checkImages()},0)},getInActiveFlag:function(e,t){var n,i,o,r,a=t[0],s=a.getBoundingClientRect&&a.getBoundingClientRect();s?(n=s.top+e.scrollTop,i=s.bottom+e.scrollTop,o=s.left,r=s.right):(n=t.offset().top,i=n+t.height(),o=t.offset().left,r=o+t.width());var c=i>e.top&&n<e.bot,d=r>e.left&&o<e.right;return!(!c||!d||"none"==t.css("display")||"hidden"==t.css("visibility")||0==t.css("opacity")||!t[0].offsetWidth)},checkModRow:function(e){var t=this,n=$(".mod_row");return n.each(function(n,i){var o=$(i);t.getInActiveFlag(e,o)?o.addClass("J_mod_row_show"):o.removeClass("J_mod_row_show")}),$(".J_mod_row_show")},checkImages:function(e){var n=this;if(n.fistCheck){var i=document.documentElement.scrollTop||document.body.scrollTop,o=n.opts.showDistance,r={};r.top=i-o,r.bot=i+(t.clientHeight||document.documentElement.clientHeight||document.body.clientHeight)+o,r.left=0,r.right=t.clientWidth,r.scrollTop=i;var a=$("body");e?a=e:window.MOGU_MF_DEVELOP_ENV&&$(".mod_row").length>0&&(a=n.checkModRow(r)),setTimeout(function(){for(var e=a.hasClass(n.opts.objsClassName)?a:a.find("."+n.opts.objsClassName),t=e.length,i=0;t>i;i++){var o=e.eq(i);if(o.attr("img-src")){var s=o.find(".J_dynamic_img"),c=o.hasClass("J_loading"),d=o.attr("need-remove")?o.attr("need-remove"):"no";if(!s.length||"yes"==d){var u=n.getInActiveFlag(r,o);u?s.length||c||n.loadingImage(o):"yes"==d&&(s.length||c)&&(o.removeClass("J_loading"),s.remove())}}}},0)}},preloadImages:function(e){var t=this;if(e&&e.length&&e.hasClass&&e.find)for(var n=e.hasClass(t.opts.objsClassName)?e:e.find("."+t.opts.objsClassName),i=n.length,o=0;i>o;o++){var r=n.eq(o);if(r.attr("img-src")){var a=r.find(".J_dynamic_img"),s=r.hasClass("J_loading");a.length||s||(r.attr("need-remove","no"),t.loadingImage(r))}}},loadingImage:function(e){var t=this;e.addClass("J_loading");var n=t.getAddCodeUrl(e);if(!(t.imgErrorClock[n]>=3)){var i=new Image;i.src=n,i.complete?t.insertImg(i,e):(i.onload=function(){t.insertImg(i,e)},i.onerror=function(){e.removeClass("J_loading"),t.imgErrorClock[n]?(t.imgErrorClock[n]++,t.imgErrorClock[n]>=3&&t.pushErrorLog(n,1)):t.imgErrorClock[n]=1})}},getAddCodeUrl:function(e){var n=e.attr("img-src"),i=e.attr("suffix-width")?e.attr("suffix-width"):e.width(),o=e.attr("suffix-ratio"),r=e.attr("suffix-code"),a=e.attr("suffix-model"),s="no"!=e.attr("use-webp");if((e.hasClass("full-width-wrap")||"no"==i)&&(i=9999),r)return t.getCodeSuffix(n,r,s);if(o){if("1:1"==o||"7:9"==o||"3:4"==o||"2:3"==o)return t.getGoodsRatioSuffix(n,i,o,s)}else if("orig_narrow"==a)return t.getHalfSuffix(n,s);return t.getWidthSuffix(n,i,s)},insertImg:function(e,t){t.hasClass("J_loading")&&(t.removeClass("J_loading"),t.append('<img class="J_dynamic_img fill_img" src="'+e.src+'" alt=""/>'))},pushErrorLog:function(e,t){if(window._trace&&_trace.sendMsg&&e&&t){var n=/^([\w\d]+):\/\/([\w\d\-_]+(?:\.[\w\d\-_]+)*)/,i=e.match(n);if(i&&i.length>2){var o=i[2];_trace.sendMsg(new Error(o),{url:e,type:t})}}},destroy:function(){},defaults:{objsClassName:"J_dynamic_imagebox",showDistance:0}},window.MoGu=window.MoGu||{};var o=MoGu.dynamicImage;return o||(o=new i({showDistance:$(window).height()}),MoGu.dynamicImage=o),o}.call(t,n,t,e)),!function(){var e=[i];(function(e){}).apply(null,e)}()},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?decodeURIComponent(t[2]):""}function i(e){return e?Object.keys(e).map(function(t){var n=e[t];return t=encodeURIComponent(t),Array.isArray(n)?n.map(function(e,n){return t+"["+n+"]="+encodeURIComponent(e)}).join("&"):t+"="+encodeURIComponent(n)}).join("&"):""}function o(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}function r(e,t,n){function i(){r.parentNode&&r.parentNode.removeChild(r);try{delete window[a]}catch(e){window[a]=void 0}}var r,a=t.jsonpCallback||"httpCb"+u();window[a]=function(e){i(),n(null,e)},e=d(e,Object.assign({},t.data,{callback:a,_:Date.now()})),r=document.createElement("script"),r.src=e,r.type="text/javascript",r.async=!0;var s=function(){i(),n(new Error(A))};j&&"onreadystatechange"in r?r.onreadystatechange=function(){"complete"===r.readyState&&(r.onreadystatechange=null,o(r));var e=r.readyState;try{r.children}catch(t){}"loaded"===e&&"loading"===r.readyState&&(r.onreadystatechange=null,s())}:(r.onerror=s,o(r))}function a(e,t,n){var o=t.data,r=new XMLHttpRequest;"GET"===t.method&&(e=d(e,o),o=null),r.open(t.method,e),r.withCredentials=!0,r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(r.onreadystatechange=function(){},200===r.status)try{var e;e="json"===t.dataType?""===r.responseText?null:JSON.parse(r.responseText):r.responseText,n(null,e)}catch(i){n(i)}else n(new Error(A))};try{switch(r.setRequestHeader("Content-Type",t.contentType),t.contentType){case C.text:case C.form:r.send(o?i(o):null);break;case C.json:r.send(o?JSON.stringify(o):null);break;default:r.send(o)}}catch(a){n(a)}}function s(e,t,n){var o={method:t.method,headers:{"Content-Type":t.contentType},credentials:"include"};if("GET"===t.method)e=d(e,t.data);else switch(t.contentType){case C.text:case C.form:o.body=i(t.data);break;case C.json:o.body=JSON.stringify(t.data)}c(e)||(o.mode="cors"),E(e,o).then(function(e){switch(t.dataType){case"json":return e.json();case"text":default:return e.text()}}).then(function(e){n(null,e)})["catch"](function(){n(new Error(A))})}function c(e){try{var t=document.createElement("a");return t.href=e,t.href=t.href,t.protocol===T.protocol&&t.hostname===T.hostname&&t.port===T.port}catch(n){return!0}}function d(e,t){if(t){var n=i(t);n&&(e+=(~e.indexOf("?")?"&":"?")+n)}return e}function u(){return Date.now()}function l(){return++window._mwpJsonpID||(window._mwpJsonpID=1)}function f(e){if(e.ret===R.Success)return e.data;var t=new Error(e.msg||"\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5");throw t.code=e.ret,t}function h(){var e=window.location.search;return~e.indexOf("__pre")?I.PreRelease:~e.indexOf("__test")?I.Develop:void 0}function p(){if(window.MOGU_ENV)switch(window.MOGU_ENV){case"test":case"daily":return I.Develop;case"develop":case"local":case"pre":return I.PreRelease}else if(window.MOGU_DEV)return I.PreRelease}function g(e){return e&&"function"==typeof e.then}function m(){this._data={}}function v(e){this._MWP=e,this._callbacks={}}function w(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function x(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&w(e.slice(0,0))}function y(e){return e?"string"==typeof e?e:JSON.stringify(e):""}function _(e){this._params={},this.add(B,e.AppKey).add(U,String(Date.now())).add(H,e.TTID)}var b="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},S=e(function(e){!function(t){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void f(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(o){return void s(t.promise,o)}a(t.promise,i)}))}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void u(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(r){s(e,r)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&f(function(){e._handled||h(e._value)});for(var t=0,n=e._deferreds.length;n>t;t++)r(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(i){if(n)return;n=!0,s(t,i)}}var l=setTimeout,f="function"==typeof setImmediate&&setImmediate||function(e){l(e,1)},h=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new d(e,t,i)),i},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(r,e)},n)}t[r]=a,0===--o&&e(t)}catch(c){n(c)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,o=e.length;o>i;i++)e[i].then(t,n)})},o._setImmediateFn=function(e){f=e},o._setUnhandledRejectionFn=function(e){h=e},"undefined"!=typeof e&&e.exports?e.exports=o:t.Promise||(t.Promise=o)}(b)}),E=(Object.prototype.hasOwnProperty,window.fetch),T=window.location,C={text:"text/plain; charset=utf-8",form:"application/x-www-form-urlencoded; charset=UTF-8",json:"application/json; charset=UTF-8"},j=window.navigator.userAgent.indexOf("MSIE 8.0")>=0,A="\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",I=({method:"GET",dataType:"json",contentType:C.form,forceXHR:!1,useHTTPS:!1},{Develop:"DEVELOP",PreRelease:"PRE_RELEASE",Release:"RELEASE"}),k={Develop:"devapi.mogujie.com",PreRelease:"newpreapi.mogujie.com",Release:"api.mogujie.com"},R={Success:"SUCCESS",NeedHttps:"FAIL_SYS_NEED_HTTPS",TokenNeedRenew:"FAIL_SYS_TOKEN_NEED_RENEW",SessionInvalid:"FAIL_BIZ_SESSION_INVALID"},O="_mwp_h5_token",D=Object.prototype.hasOwnProperty;m.prototype.add=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return this._data[e+"."+t]=n,this},m.prototype.toObject=function(){return this._data},v.Parameter=m,v.prototype.addParameter=function(e,t,n){return this._parameter||(this._parameter=new m),this._parameter.add(e,t,n),this},v.prototype.request=function(e,t,n,i){var o=this,r=void 0;return n instanceof m?r=n.toObject():(r=this._parameter?this._parameter.toObject():null,i||(i=n||{})),this._promise=this._MWP.request(e,t,r,i).then(function(e){return o.result=e,o._MWP.filterResult(e)}).then(function(e){var t=[];for(var n in e)D.call(e,n)&&o._callbacks[n]&&t.push(o._callbacks[n](e[n]));return t=t.filter(g),t.length>0?S.all(t).then(function(){return o.result}):o.result}),this},v.prototype.on=function(e,t){return this._callbacks[e]||(this._callbacks[e]=t),this},v.prototype.then=function(e,t){return this._promise=this._promise.then(e,t),this},v.prototype["catch"]=function(e){return this._promise=this._promise["catch"](e),this};var $=e(function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var o=e[i]<<16|e[i+1]<<8|e[i+2],r=0;4>r;r++)8*i+6*r<=8*e.length?n.push(t.charAt(o>>>6*(3-r)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,o=0;i<e.length;o=++i%4)0!=o&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(i))>>>6-2*o);return n}};e.exports=n}()}),M=function(e){return null!=e&&(w(e)||x(e)||!!e._isBuffer)},P={utf8:{stringToBytes:function(e){return P.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(P.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},W=P,N=e(function(e){!function(){var t=$,n=W.utf8,i=M,o=W.bin,r=function(e,a){e.constructor==String?e=a&&"binary"===a.encoding?o.stringToBytes(e):n.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),c=8*e.length,d=1732584193,u=-271733879,l=-1732584194,f=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[c>>>5]|=128<<c%32,s[(c+64>>>9<<4)+14]=c;for(var p=r._ff,g=r._gg,m=r._hh,v=r._ii,h=0;h<s.length;h+=16){var w=d,x=u,y=l,_=f;d=p(d,u,l,f,s[h+0],7,-680876936),f=p(f,d,u,l,s[h+1],12,-389564586),l=p(l,f,d,u,s[h+2],17,606105819),u=p(u,l,f,d,s[h+3],22,-1044525330),d=p(d,u,l,f,s[h+4],7,-176418897),f=p(f,d,u,l,s[h+5],12,1200080426),l=p(l,f,d,u,s[h+6],17,-1473231341),u=p(u,l,f,d,s[h+7],22,-45705983),d=p(d,u,l,f,s[h+8],7,1770035416),f=p(f,d,u,l,s[h+9],12,-1958414417),l=p(l,f,d,u,s[h+10],17,-42063),u=p(u,l,f,d,s[h+11],22,-1990404162),d=p(d,u,l,f,s[h+12],7,1804603682),f=p(f,d,u,l,s[h+13],12,-40341101),l=p(l,f,d,u,s[h+14],17,-1502002290),u=p(u,l,f,d,s[h+15],22,1236535329),d=g(d,u,l,f,s[h+1],5,-165796510),f=g(f,d,u,l,s[h+6],9,-1069501632),l=g(l,f,d,u,s[h+11],14,643717713),u=g(u,l,f,d,s[h+0],20,-373897302),d=g(d,u,l,f,s[h+5],5,-701558691),f=g(f,d,u,l,s[h+10],9,38016083),l=g(l,f,d,u,s[h+15],14,-660478335),u=g(u,l,f,d,s[h+4],20,-405537848),d=g(d,u,l,f,s[h+9],5,568446438),f=g(f,d,u,l,s[h+14],9,-1019803690),l=g(l,f,d,u,s[h+3],14,-187363961),u=g(u,l,f,d,s[h+8],20,1163531501),d=g(d,u,l,f,s[h+13],5,-1444681467),f=g(f,d,u,l,s[h+2],9,-51403784),l=g(l,f,d,u,s[h+7],14,1735328473),u=g(u,l,f,d,s[h+12],20,-1926607734),d=m(d,u,l,f,s[h+5],4,-378558),f=m(f,d,u,l,s[h+8],11,-2022574463),l=m(l,f,d,u,s[h+11],16,1839030562),u=m(u,l,f,d,s[h+14],23,-35309556),d=m(d,u,l,f,s[h+1],4,-1530992060),f=m(f,d,u,l,s[h+4],11,1272893353),l=m(l,f,d,u,s[h+7],16,-155497632),u=m(u,l,f,d,s[h+10],23,-1094730640),d=m(d,u,l,f,s[h+13],4,681279174),f=m(f,d,u,l,s[h+0],11,-358537222),l=m(l,f,d,u,s[h+3],16,-722521979),u=m(u,l,f,d,s[h+6],23,76029189),d=m(d,u,l,f,s[h+9],4,-640364487),f=m(f,d,u,l,s[h+12],11,-421815835),l=m(l,f,d,u,s[h+15],16,530742520),u=m(u,l,f,d,s[h+2],23,-995338651),d=v(d,u,l,f,s[h+0],6,-198630844),f=v(f,d,u,l,s[h+7],10,1126891415),l=v(l,f,d,u,s[h+14],15,-1416354905),u=v(u,l,f,d,s[h+5],21,-57434055),d=v(d,u,l,f,s[h+12],6,1700485571),f=v(f,d,u,l,s[h+3],10,-1894986606),l=v(l,f,d,u,s[h+10],15,-1051523),u=v(u,l,f,d,s[h+1],21,-2054922799),d=v(d,u,l,f,s[h+8],6,1873313359),f=v(f,d,u,l,s[h+15],10,-30611744),l=v(l,f,d,u,s[h+6],15,-1560198380),u=v(u,l,f,d,s[h+13],21,1309151649),d=v(d,u,l,f,s[h+4],6,-145523070),f=v(f,d,u,l,s[h+11],10,-1120210379),l=v(l,f,d,u,s[h+2],15,718787259),u=v(u,l,f,d,s[h+9],21,-343485551),d=d+w>>>0,u=u+x>>>0,l=l+y>>>0,f=f+_>>>0}return t.endian([d,u,l,f])};r._ff=function(e,t,n,i,o,r,a){var s=e+(t&n|~t&i)+(o>>>0)+a;return(s<<r|s>>>32-r)+t},r._gg=function(e,t,n,i,o,r,a){var s=e+(t&i|n&~i)+(o>>>0)+a;return(s<<r|s>>>32-r)+t},r._hh=function(e,t,n,i,o,r,a){var s=e+(t^n^i)+(o>>>0)+a;return(s<<r|s>>>32-r)+t},r._ii=function(e,t,n,i,o,r,a){var s=e+(n^(t|~i))+(o>>>0)+a;return(s<<r|s>>>32-r)+t},r._blocksize=16,r._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(r(e,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):t.bytesToHex(i)}}()}),H="mw-ttid",U="mw-t",q="data",B="mw-appkey",G="mw-sign",L=Object.prototype.hasOwnProperty;"function"!=typeof Date.now&&(Date.now=function(){return(new Date).valueOf()}),_.getSignedParams=function(e,t){var n=new _(e);return n.getSignedParams(t)},_.prototype.add=function(e,t){return t&&(this._params[e]=t),this},_.prototype.sign=function(e,t,n,i){var o=[],r=this._params;for(var a in r)L.call(r,a)&&o.push(a);return o.sort(),N(o.map(function(e){return r[e]}).concat([e,t,N(n),i]).join("&"))},_.prototype.getSignedParams=function(e){return this.add(G,this.sign(e.api,e.version,y(e.data),e.getToken())),this.add(q,y(e.data)),this._params};var J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},z=function(e,t,n,i){this.api=e,this.version=t,this.data=n,this.options=J({},z.defaultOptions,i),this.origin=this.getOrigin(),this.retries=0};return z.Promise=S,z.AppKey="100028",z.TTID="NMMain@mgj_pc_1.0",z.Env=I,z.Hostname=k,z.Code=R,z.defaultOptions={useHTTPS:!1,env:z.Env.Release},z.request=function(e,t,n,i){return new z(e,t,n,i)._fetch()},z.getDSL=function(){return new v(this)},z.getDSLParameter=function(){return new v.Parameter},z.filterResult=f,z.setGlobalEnv=function(e){e&&(this.defaultOptions.env=e)},z.getGlobalEnv=function(){return this.defaultOptions.env},z.prototype={constructor:z,getToken:function(){return n(O)},getParams:function(){return _.getSignedParams(this.constructor,this)},shouldRetry:function(){return this.retries<5},_fetch:function(){var e=this;return new S(function(t,n){return e.shouldRetry()?(e.retries++,void e.fetch(t,n)):n(new Error("Have retried too much times"))}).then(function(t){return e.handleResponse(t)})},fetch:function(e,t){var n=[this.getURL(),this.getParams(),function(n,i){return n?t(n):void e(i)}];this.options.cors===!0?this.cors.apply(this,n):this.jsonp.apply(this,n)},jsonp:function(e,t,n){r(e,{data:t,jsonpCallback:"mwpCb"+l()},n)},cors:function(e,t,n){var i={method:this.options.method||"GET",data:t,dataType:"json",contentType:C.form};"function"==typeof window.fetch?s(e,i,n):window.XMLHttpRequest?a(e,i,n):this.jsonp(e,t,n)},getURL:function(){return this.origin+"/h5/"+this.api+"/"+this.version+"/"},getOrigin:function(){var e,t=this.options,n=t.useHTTPS?"https:":"http:";switch(t.env){case z.Env.Develop:e=z.Hostname.Develop;break;case z.Env.PreRelease:e=z.Hostname.PreRelease;break;default:e=z.Hostname.Release}return n+"//"+e},handleResponse:function(e){switch(e.ret){case z.Code.TokenNeedRenew:return this._fetch();case z.Code.NeedHttps:return this.options.useHTTPS=!0,this.origin=this.getOrigin(),this._fetch();default:return S.resolve(e)}}},z.setGlobalEnv(h()||p()),z})}).call(t,function(){return this}())},function(e,t,n){"use strict";n(8);var i=n(6);i.TTID="NMMain@mogujie_pc_1.0";var o={$el:null,template:null,data:null,threshold:300,segmentsKept:3,network:null,filterData:function(e){return e.list}},r=function(e){this.options=$.extend({},o,e),this.init()};r.prototype={init:function(){if(null===this.options.$el||0===this.options.$el.length)throw new Error("$el is required");if(null===this.options.template)throw new Error("template is required");this.$el=this.options.$el,this.$loading=$('<div class="w-wall-loading">\u52a0\u8f7d\u4e2d...</div>').appendTo(this.$el),this._segmentIndex=-1,this._segments=[],this.activeSegment=null,this._eventName="scroll.wall."+Date.now(),this._size=this.options.network.data.size,this._params={},this._isEnd=!1,this.options.data?this.handleResponse(this.options.data):this.request(),this._addListener()},request:function(){var e=this;if(!this.isRequesting){var t=this.options.network;if(t){var n=t.url;this._params=$.extend({},t.data,this._params);var o={isEnd:!0,list:[]};this.isRequesting=!0,i.request(n,"1",this._params,{}).then(function(t){"SUCCESS"===t.ret?e.handleResponse(t.data):e.handleResponse(o),e.isRequesting=!1},function(){e.handleResponse(o),e.isRequesting=!1})}}},handleResponse:function(e){for(var t=this.options.filterData(e),n=[],i=0;i<t.length;i++)n.push(t[i].acm);if(n.length>0&&window.logger&&window.logger.log("0x00000000",{acms:n}),this._segmentIndex>=0){var o=this._requestSegment(this._segmentIndex);if(o.data.length<this._size){for(var r=[],a=this._size-o.data.length,s=t.length,c=0;a>c;c++)s>c&&(o.data.push(t[c]),r.push(t[c]));t=a>=s?[]:t.slice(a,s);var d=this.options.template(r);o.$el.append(d),MoGu.dynamicImage.checkImages(o.$el)}}if(t.length>0){var u=this._requestSegment(++this._segmentIndex);u.data=t,this.render(u)}return e.isEnd?(this._isEnd=!0,void this.$loading.hide()):void(this._params.mbook=e.mbook)},render:function(e){var t=this.options.template(e.data);e.$el.html(t),e.offsetTop=e.$el.offset().top,e.isRendered=!0,MoGu.dynamicImage.checkImages(e.$el)},_requestSegment:function(e){var t=this._segments[e];return t||(t=this._segments[e]={index:e,$el:$('<div class="w-wall-segment clearfix" data-index="'+e+'"></div>').insertBefore(this.$loading),isRendered:!1}),t},_handleScroll:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=e+t;if(!this._isEnd&&!this.isRequesting){var i=this.$loading.offset().top;n+this.options.threshold>i&&this.request()}if(null===this.activeSegment)this.activeSegment=this._requestSegment(0);else{var o=this.activeSegment,r=o.index,a=!1;if(o.offsetTop>n){for(;--r>=0&&(o=this._segments[r],a=!0,!(o.offsetTop<=n)););this.activeSegment=o}else if(o.offsetTop+o.$el.height()<t){for(;++r<this._segments.length&&(o=this._segments[r],a=!0,!(o.offsetTop+o.$el.height()>=t)););this.activeSegment=o}if(a){r=o.index;for(var s=Math.floor(this.options.segmentsKept/2),c=0;c<this._segments.length;c++){var d=this._segments[c];Math.abs(d.index-r)>s?this._storeSegment(d):this._restoreSegment(d)}}}},_storeSegment:function(e){e&&e.isRendered&&(e.isRendered=!1,e.$el.css("height",e.$el.height()).empty())},_restoreSegment:function(e){e&&!e.isRendered&&this.render(e)},_addListener:function(){var e=this;this._isEnd||$(window).off(this._eventName).on(this._eventName,function(){setTimeout(function(){e._handleScroll()},50)})},destroy:function(){this._removeListener(),this.$el.empty()},_removeListener:function(){$(window).off(this._eventName)}},e.exports=r},function(e,t){},,function(e,t){"use strict";e.exports={getQueryString:function(e,t){
t=t||location.href,t=t.split("#")[0];var n=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return n.test(t)?RegExp.$2.replace(/\+/g," "):""},formatDate:function(e){var t=new Date(1e3*e),n=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();return i=i>=10?i:"0"+i,o=o>=10?o:"0"+o,n+"-"+i+"-"+o}}},function(e,t){e.exports=function(e){var t="",n=e.banner;t+='<div class="banner-wrap" style="background-color:'+n.bgColor+';"> <a class="banner" href="',t+=n.link?""+n.link:"javascript:;",t+='" target="',t+=n.link?"_blank":"_self",t+='" style="cursor: ',t+=n.link?"pointer":"default",t+=';"> <img src="'+n.image+e.size+'"> </a></div><div class="nav-wrap"> <div class="nav"> <p class="nav-title"><a href=http://www.mogujie.com>\u9996\u9875</a> > \u7ea2\u4eba\u7a7f\u642d</p> ';var i=e.tabs;t+=' <ul class="nav-list clearfix"> ';var o=i;if(o)for(var r,a=-1,s=o.length-1;s>a;)r=o[a+=1],t+=' <li class="nav-item"> <div class="item-mask J_tab" data-content-id="'+r.lifestyleId+'" data-tag-name="'+r.tagName+'" data-tag-id="'+r.tagId+'"></div> <div class="item-tab ',(a+1)%10&&(t+="mr10"),t+=" c",t+=(a+1)%10?""+(a+1)%10:"10",t+='">'+r.tagName+"</div> </li> ";return t+=' </ul> </div></div><div class="pool-wrap"> <div class="pool-list clearfix"></div></div>'}},function(e,t){e.exports=function(e){var t="",n=e;if(n)for(var i,o=-1,r=n.length-1;r>o;){i=n[o+=1],t+='<div class="pool-item"> <a href="'+i.jumpUrl+'" target="_blank" class="image-wrap J_dynamic_imagebox" img-src="'+i.editorCover+'"> </a> <div class="detail"> <a href="'+i.jumpUrl+'" target="_blank"><p class="content-title">'+i.desc+"</p></a> ";var a=i.user;t+=' <div class="user-wrap vertical-middle"> <img class="avatar" src="'+a.avatar+'_48x48.jpg"> <span class="user-name">'+a.uname+"</span> </div> </div></div>"}return t}}])}),console.warn("@meili/base-mwp-js-sdk stable version is 2.0.6, please update: http://aveng.meili-inc.com/doc/%40meili%2Fbase-mwp-js-sdk?ver=2.0.6");